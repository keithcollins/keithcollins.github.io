import{S as Z,i as x,s as $,e as g,c as w,a as k,d as p,b as d,g as Q,t as C,k as F,h as O,m as R,F as u,U as ee,j as S,I as W,G as te,V as se}from"../../chunks/vendor-15527e3e.js";function X(n,t,e){const r=n.slice();return r[10]=t[e],r}function Y(n){let t,e;return{c(){t=g("div"),this.h()},l(r){t=w(r,"DIV",{class:!0}),k(t).forEach(p),this.h()},h(){d(t,"class",e="square "+n[5](n[10])+" svelte-13sbmbc")},m(r,f){Q(r,t,f)},p(r,f){f&32&&e!==(e="square "+r[5](r[10])+" svelte-13sbmbc")&&d(t,"class",e)},d(r){r&&p(t)}}}function le(n){let t,e,r=(n[1]+1<10?"0":"")+"",f,s=n[1]+1+"",I,q,i,h,v,m,E=n[0].currentInput+"",o,b,U,D,V,G,y,T,B,z,A,K,H=[1,2,3,4],_=[];for(let l=0;l<4;l+=1)_[l]=Y(X(n,H,l));return{c(){t=g("tr"),e=g("td"),f=C(r),I=C(s),q=F(),i=g("td"),h=g("div");for(let l=0;l<4;l+=1)_[l].c();v=F(),m=g("div"),o=C(E),U=F(),D=g("td"),V=C(n[2]),y=F(),T=g("td"),B=C(n[3]),this.h()},l(l){t=w(l,"TR",{});var a=k(t);e=w(a,"TD",{class:!0});var c=k(e);f=O(c,r),I=O(c,s),c.forEach(p),q=R(a),i=w(a,"TD",{class:!0});var j=k(i);h=w(j,"DIV",{class:!0});var L=k(h);for(let J=0;J<4;J+=1)_[J].l(L);L.forEach(p),v=R(j),m=w(j,"DIV",{class:!0});var M=k(m);o=O(M,E),M.forEach(p),j.forEach(p),U=R(a),D=w(a,"TD",{class:!0});var N=k(D);V=O(N,n[2]),N.forEach(p),y=R(a),T=w(a,"TD",{class:!0});var P=k(T);B=O(P,n[3]),P.forEach(p),a.forEach(p),this.h()},h(){d(e,"class","num"),d(h,"class","squares svelte-13sbmbc"),d(m,"class","input svelte-13sbmbc"),d(i,"class",b="guess "+n[4]+" svelte-13sbmbc"),d(D,"class",G=+n[2]>0?"cows-points":"points"),d(T,"class",z=+n[3]>0?"bulls-points":"points")},m(l,a){Q(l,t,a),u(t,e),u(e,f),u(e,I),u(t,q),u(t,i),u(i,h);for(let c=0;c<4;c+=1)_[c].m(h,null);u(i,v),u(i,m),u(m,o),u(t,U),u(t,D),u(D,V),u(t,y),u(t,T),u(T,B),A||(K=ee(window,"keydown",n[6]),A=!0)},p(l,[a]){if(a&2&&r!==(r=(l[1]+1<10?"0":"")+"")&&S(f,r),a&2&&s!==(s=l[1]+1+"")&&S(I,s),a&32){H=[1,2,3,4];let c;for(c=0;c<4;c+=1){const j=X(l,H,c);_[c]?_[c].p(j,a):(_[c]=Y(j),_[c].c(),_[c].m(h,null))}for(;c<4;c+=1)_[c].d(1)}a&1&&E!==(E=l[0].currentInput+"")&&S(o,E),a&16&&b!==(b="guess "+l[4]+" svelte-13sbmbc")&&d(i,"class",b),a&4&&S(V,l[2]),a&4&&G!==(G=+l[2]>0?"cows-points":"points")&&d(D,"class",G),a&8&&S(B,l[3]),a&8&&z!==(z=+l[3]>0?"bulls-points":"points")&&d(T,"class",z)},i:W,o:W,d(l){l&&p(t),te(_,l),A=!1,K()}}}function ne(n,t,e){let r,{index:f=null}=t,{gameObj:s}=t,{showIntro:I=!0}=t;const q=se();let i="?",h="?",v="",m=!0;function E(o){const b=o.key;b=="Enter"?(q("submit"),e(7,I=!1)):b=="Backspace"&&s.currentInput.length?e(0,s.currentInput=s.currentInput.slice(0,-1),s):b.length==1&&b.match(/[a-z]/i)&&s.currentInput.length<4&&e(0,s.currentInput+=b,s)}return n.$$set=o=>{"index"in o&&e(1,f=o.index),"gameObj"in o&&e(0,s=o.gameObj),"showIntro"in o&&e(7,I=o.showIntro)},n.$$.update=()=>{n.$$.dirty&1&&s.animateScore&&(e(0,s.animateScore=!1,s),e(4,v="entered"),setTimeout(()=>{e(2,i=s.currentCows)},500),setTimeout(()=>{e(3,h=s.currentBulls)},1e3),setTimeout(()=>{(s.won||s.lost)&&e(8,m=!1),s.won&&e(4,v="won"),s.lost&&e(4,v=""),!s.won&&!s.lost&&(e(2,i="?"),e(3,h="?"),e(4,v=""))},1500)),n.$$.dirty&257&&e(5,r=o=>m&&s.currentInput.length+1==o?"blink":"")},[s,f,i,h,v,r,E,I,m]}class re extends Z{constructor(t){super();x(this,t,ne,le,$,{index:1,gameObj:0,showIntro:7})}}export{re as default};
